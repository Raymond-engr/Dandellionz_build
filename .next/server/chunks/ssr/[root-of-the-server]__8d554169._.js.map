{"version":3,"sources":["../../../../../../Documents/Dandelionz_App/node_modules/next/src/server/route-modules/app-page/vendored/contexts/app-router-context.ts","../../../../../../Documents/Dandelionz_App/node_modules/next/src/server/route-modules/app-page/vendored/contexts/hooks-client-context.ts","../../../../../../Documents/Dandelionz_App/node_modules/next/src/server/route-modules/app-page/vendored/contexts/server-inserted-html.ts","../../../../../../Documents/Dandelionz_App/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-server-dom-turbopack-client.ts","../../../../../../Documents/Dandelionz_App/lib/api/authApi.ts","../../../../../../Documents/Dandelionz_App/app/verify-notice/page.tsx"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].AppRouterContext\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].HooksClientContext\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].ServerInsertedHtml\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactServerDOMTurbopackClient\n","import { baseApi } from \"./baseApi\";\r\n\r\ninterface RegisterRequest {\r\n  email: string;\r\n  password: string;\r\n  phone_number: string;\r\n  full_name: string;\r\n  role: \"CUSTOMER\" | \"VENDOR\";\r\n  referral_code?: string;\r\n}\r\n\r\ninterface LoginRequest {\r\n  email: string;\r\n  password: string;\r\n}\r\n\r\ninterface AuthResponse {\r\n  success: boolean;\r\n  data: {\r\n    user: {\r\n      uuid: string;\r\n      email: string;\r\n      full_name: string;\r\n      phone_number: string;\r\n      profile_picture: string | null;\r\n      role: string;\r\n      is_verified: boolean;\r\n      is_active: boolean;\r\n      created_at: string;\r\n      referral_code: string;\r\n    };\r\n    tokens: {\r\n      access_token: string;\r\n      refresh_token: string;\r\n      token_type: string;\r\n      expires_in: number;\r\n      refresh_expires_in: number;\r\n      user_uuid: string;\r\n      issued_at: number;\r\n    };\r\n    is_new_user?: boolean;\r\n    email_verified: boolean;\r\n    verification_needed?: boolean;\r\n  };\r\n}\r\n\r\ninterface RefreshTokenRequest {\r\n  refresh_token: string;\r\n}\r\n\r\ninterface PasswordResetRequest {\r\n  email: string;\r\n}\r\n\r\ninterface VerifyEmailRequest {\r\n  uid: string;\r\n  token: string;\r\n}\r\n\r\nexport const authApi = baseApi.injectEndpoints({\r\n  endpoints: (builder) => ({\r\n    // Register\r\n    register: builder.mutation<AuthResponse, RegisterRequest>({\r\n      query: (credentials) => ({\r\n        url: \"/auth/register/\",\r\n        method: \"POST\",\r\n        body: credentials,\r\n      }),\r\n      invalidatesTags: [\"Auth\"],\r\n    }),\r\n\r\n    // Login\r\n    login: builder.mutation<AuthResponse, LoginRequest>({\r\n      query: (credentials) => ({\r\n        url: \"/auth/login/\",\r\n        method: \"POST\",\r\n        body: credentials,\r\n      }),\r\n      invalidatesTags: [\"Auth\"],\r\n    }),\r\n\r\n    // Refresh Token\r\n    refreshToken: builder.mutation<\r\n      AuthResponse[\"data\"][\"tokens\"],\r\n      RefreshTokenRequest\r\n    >({\r\n      query: (body) => ({\r\n        url: \"/auth/token/refresh/\",\r\n        method: \"POST\",\r\n        body,\r\n      }),\r\n    }),\r\n\r\n    // Password Reset\r\n    requestPasswordReset: builder.mutation<\r\n      { success: boolean; message: string },\r\n      PasswordResetRequest\r\n    >({\r\n      query: (body) => ({\r\n        url: \"/auth/password-reset/\",\r\n        method: \"POST\",\r\n        body,\r\n      }),\r\n    }),\r\n\r\n    // Check Verification Status\r\n    checkVerification: builder.query<\r\n      { success: boolean; data: { is_verified: boolean } },\r\n      void\r\n    >({\r\n      query: () => \"/auth/check-verification/\",\r\n      providesTags: [\"Auth\"],\r\n    }),\r\n\r\n    // Send Verification Email\r\n    sendVerificationEmail: builder.mutation<\r\n      { success: boolean; message: string },\r\n      void\r\n    >({\r\n      query: () => ({\r\n        url: \"/auth/send-verification/\",\r\n        method: \"POST\",\r\n      }),\r\n    }),\r\n\r\n    // Verify Email\r\n    verifyEmail: builder.mutation<\r\n      { success: boolean; message: string },\r\n      VerifyEmailRequest\r\n    >({\r\n      query: (body) => ({\r\n        url: \"/auth/verify-email/\",\r\n        method: \"POST\",\r\n        body,\r\n      }),\r\n      invalidatesTags: [\"Auth\"],\r\n    }),\r\n  }),\r\n});\r\n\r\nexport const {\r\n  useRegisterMutation,\r\n  useLoginMutation,\r\n  useRefreshTokenMutation,\r\n  useRequestPasswordResetMutation,\r\n  useCheckVerificationQuery,\r\n  useSendVerificationEmailMutation,\r\n  useVerifyEmailMutation,\r\n} = authApi;\r\n","'use client';\n\nimport { useState } from 'react';\nimport AppLayout from '@/components/AppLayout';\nimport { useSendVerificationEmailMutation } from '@/lib/api/authApi';\nimport { useRouter } from 'next/navigation';\n\nexport default function VerifyNoticePage() {\n  const router = useRouter();\n  const [sendVerification, { isLoading, isSuccess, isError, error }] = useSendVerificationEmailMutation();\n\n  const handleSendVerification = () => {\n    sendVerification();\n  };\n\n  return (\n    <AppLayout showBottomNav={false}>\n      <div className=\"min-h-screen flex flex-col items-center justify-center p-6 text-center\">\n        {!isSuccess ? (\n          <>\n            <div className=\"w-20 h-20 bg-yellow-100 rounded-full flex items-center justify-center mb-6\">\n              <svg className=\"w-10 h-10 text-yellow-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\" />\n              </svg>\n            </div>\n            <h1 className=\"text-xl font-semibold text-gray-900 mb-2\">Email Verification Required</h1>\n            <p className=\"text-sm text-gray-600 mb-8 max-w-sm\">\n              Your account is not verified. Please click the button below to send a verification link to your email.\n            </p>\n            \n            {isError && (\n              <div className=\"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg w-full max-w-sm\">\n                <p className=\"text-sm text-red-600\">\n                  {(error as any)?.data?.message || 'An error occurred while sending the email. Please try again.'}\n                </p>\n              </div>\n            )}\n\n            <button\n              onClick={handleSendVerification}\n              disabled={isLoading}\n              className=\"px-8 py-3 bg-system-blue-light text-white rounded-lg font-medium hover:bg-[#020360] transition-colors disabled:opacity-50\"\n            >\n              {isLoading ? 'Sending...' : 'Send Verification Email'}\n            </button>\n          </>\n        ) : (\n          <>\n            <div className=\"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mb-6\">\n              <svg className=\"w-10 h-10 text-green-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z\" />\n              </svg>\n            </div>\n            <h1 className=\"text-xl font-semibold text-gray-900 mb-2\">Email Sent!</h1>\n            <p className=\"text-sm text-gray-600 mb-8 max-w-sm\">\n              A new verification link has been sent to your email address. Please check your inbox.\n            </p>\n            <button\n              onClick={() => router.push('/login')}\n              className=\"px-8 py-3 bg-system-blue-light text-white rounded-lg font-medium hover:bg-[#020360] transition-colors\"\n            >\n              Back to Login\n            </button>\n          </>\n        )}\n      </div>\n    </AppLayout>\n  );\n}\n"],"names":["module","exports","require","vendored","AppRouterContext","HooksClientContext","ServerInsertedHtml","ReactServerDOMTurbopackClient"],"mappings":"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","ignoreList":[0,1,2,3]}