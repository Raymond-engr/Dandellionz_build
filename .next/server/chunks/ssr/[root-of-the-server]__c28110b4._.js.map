{"version":3,"sources":["../../../../../../Documents/Dandelionz_App/node_modules/next/src/server/route-modules/app-page/module.compiled.js","../../../../../../Documents/Dandelionz_App/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-jsx-runtime.ts","../../../../../../Documents/Dandelionz_App/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react.ts","../../../../../../Documents/Dandelionz_App/lib/features/auth/authSlice.ts","../../../../../../Documents/Dandelionz_App/app/providers.tsx","../../../../../../Documents/Dandelionz_App/lib/store.ts"],"sourcesContent":["if (process.env.NEXT_RUNTIME === 'edge') {\n  module.exports = require('next/dist/server/route-modules/app-page/module.js')\n} else {\n  if (process.env.__NEXT_EXPERIMENTAL_REACT) {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.prod.js')\n      }\n    }\n  } else {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.prod.js')\n      }\n    }\n  }\n}\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactJsxRuntime\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.React\n","import { createSlice, PayloadAction } from \"@reduxjs/toolkit\";\r\n\r\ninterface User {\r\n  uuid: string;\r\n  email: string;\r\n  full_name: string;\r\n  phone_number: string;\r\n  profile_picture: string | null;\r\n  role: string;\r\n  referral_code: string;\r\n  is_verified: boolean;\r\n  is_active: boolean;\r\n  created_at: string;\r\n}\r\n\r\ninterface AuthState {\r\n  user: User | null;\r\n  accessToken: string | null;\r\n  refreshToken: string | null;\r\n  isAuthenticated: boolean;\r\n}\r\n\r\nconst authSlice = createSlice({\r\n  name: \"auth\",\r\n  initialState: {\r\n    user: null,\r\n    accessToken: null,\r\n    refreshToken: null,\r\n    isAuthenticated: false,\r\n  } as AuthState,\r\n  reducers: {\r\n    setCredentials: (\r\n      state,\r\n      action: PayloadAction<{\r\n        user: User;\r\n        accessToken: string;\r\n        refreshToken: string;\r\n      }>\r\n    ) => {\r\n      state.user = action.payload.user;\r\n      state.accessToken = action.payload.accessToken;\r\n      state.refreshToken = action.payload.refreshToken;\r\n      state.isAuthenticated = true;\r\n    },\r\n    setTokens: (\r\n      state,\r\n      action: PayloadAction<{ accessToken: string; refreshToken: string }>\r\n    ) => {\r\n      state.accessToken = action.payload.accessToken;\r\n      state.refreshToken = action.payload.refreshToken;\r\n    },\r\n    logout: (state) => {\r\n      state.user = null;\r\n      state.accessToken = null;\r\n      state.refreshToken = null;\r\n      state.isAuthenticated = false;\r\n    },\r\n  },\r\n});\r\n\r\nexport const { setCredentials, setTokens, logout } = authSlice.actions;\r\nexport default authSlice.reducer;\r\n","'use client';\r\n\r\nimport { Provider } from 'react-redux';\r\nimport { store } from '@/lib/store';\r\nimport { useEffect } from 'react';\r\nimport { setCredentials } from '@/lib/features/auth/authSlice';\r\n\r\nexport function Providers({ children }: { children: React.ReactNode }) {\r\n  useEffect(() => {\r\n    // Restore auth from localStorage on app load\r\n    const savedAuth = localStorage.getItem('auth');\r\n    if (savedAuth) {\r\n      const { user, accessToken, refreshToken } = JSON.parse(savedAuth);\r\n      store.dispatch(setCredentials({ user, accessToken, refreshToken }));\r\n    }\r\n  }, []);\r\n\r\n  // Save auth to localStorage whenever it changes\r\n  useEffect(() => {\r\n    const unsubscribe = store.subscribe(() => {\r\n      const state = store.getState();\r\n      if (state.auth.isAuthenticated) {\r\n        localStorage.setItem('auth', JSON.stringify({\r\n          user: state.auth.user,\r\n          accessToken: state.auth.accessToken,\r\n          refreshToken: state.auth.refreshToken,\r\n        }));\r\n      } else {\r\n        localStorage.removeItem('auth');\r\n      }\r\n    });\r\n    return unsubscribe;\r\n  }, []);\r\n\r\n  return <Provider store={store}>{children}</Provider>;\r\n}","import { configureStore } from \"@reduxjs/toolkit\";\r\nimport { setupListeners } from \"@reduxjs/toolkit/query\";\r\nimport { baseApi } from \"./api/baseApi\";\r\nimport authReducer from \"./features/auth/authSlice\";\r\n\r\nexport const store = configureStore({\r\n  reducer: {\r\n    [baseApi.reducerPath]: baseApi.reducer,\r\n    auth: authReducer,\r\n  },\r\n  middleware: (getDefaultMiddleware) =>\r\n    getDefaultMiddleware().concat(baseApi.middleware),\r\n});\r\n\r\nsetupListeners(store.dispatch);\r\n\r\nexport type RootState = ReturnType<typeof store.getState>;\r\nexport type AppDispatch = typeof store.dispatch;\r\n"],"names":["process","env","NEXT_RUNTIME","module","exports","require","__NEXT_EXPERIMENTAL_REACT","NODE_ENV","TURBOPACK","vendored","ReactJsxRuntime","React"],"mappings":"yNA0BQG,EAAOC,OAAO,CAAGC,EAAQ,CAAA,CAAA,IAAA,iCC1BjCF,EAAOC,OAAO,CACZC,EAAQ,CAAA,CAAA,IAAA,EACRI,QAAQ,CAAC,YAAY,CAAEC,eAAe,+BCFxCP,EAAOC,OAAO,CACZC,EAAQ,CAAA,CAAA,IAAA,EACRI,QAAQ,CAAC,YAAY,CAAEE,KAAK,yBCoB9B,IAAM,EAAY,CAAA,EAtBlB,AAsBkB,EAtBlB,CAAA,CAAA,OAsBkB,WAAA,AAAW,EAAC,CAC5B,KAAM,OACN,aAAc,CACZ,KAAM,KACN,YAAa,KACb,aAAc,KACd,iBAAiB,CACnB,EACA,SAAU,CACR,eAAgB,CACd,EACA,KAMA,EAAM,IAAI,CAAG,EAAO,OAAO,CAAC,IAAI,CAChC,EAAM,WAAW,CAAG,EAAO,OAAO,CAAC,WAAW,CAC9C,EAAM,YAAY,CAAG,EAAO,OAAO,CAAC,YAAY,CAChD,EAAM,eAAe,EAAG,CAC1B,EACA,UAAW,CACT,EACA,KAEA,EAAM,WAAW,CAAG,EAAO,OAAO,CAAC,WAAW,CAC9C,EAAM,YAAY,CAAG,EAAO,OAAO,CAAC,YAAY,AAClD,EACA,OAAQ,AAAC,IACP,EAAM,IAAI,CAAG,KACb,EAAM,WAAW,CAAG,KACpB,EAAM,YAAY,CAAG,KACrB,EAAM,eAAe,EAAG,CAC1B,CACF,CACF,GAEa,gBAAE,CAAc,WAAE,CAAS,QAAE,CAAM,CAAE,CAAG,EAAU,OAAO,GACvD,EAAU,OAAO,iGC3DhC,EAAA,EAAA,CAAA,CAAA,OCFA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OAEO,IAAM,EAAQ,CAAA,EAAA,EAAA,cAAA,AAAc,EAAC,CAClC,QAAS,CACP,CAAC,EAAA,OAAO,CAAC,WAAW,CAAC,CAAE,EAAA,OAAO,CAAC,OAAO,CACtC,KAAM,EAAA,OAAW,AACnB,EACA,WAAY,AAAC,GACX,IAAuB,MAAM,CAAC,EAAA,OAAO,CAAC,UAAU,CACpD,GAEA,CAAA,EAAA,EAAA,cAAc,AAAd,EAAe,EAAM,QAAQ,EDV7B,IAAA,EAAA,EAAA,CAAA,CAAA,OAGO,SAAS,EAAU,CAAE,UAAQ,CAAiC,EA2BnE,MA1BA,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KAER,IAAM,EAAY,aAAa,OAAO,CAAC,QACvC,GAAI,EAAW,CACb,GAAM,CAAE,MAAI,aAAE,CAAW,cAAE,CAAY,CAAE,CAAG,KAAK,KAAK,CAAC,GACvD,EAAM,QAAQ,CAAC,CAAA,EAAA,EAAA,cAAA,AAAc,EAAC,MAAE,cAAM,eAAa,CAAa,GAClE,CACF,EAAG,EAAE,EAGL,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,IACY,EAAM,SAAS,CAAC,KAClC,IAAM,EAAQ,EAAM,QAAQ,GACxB,EAAM,IAAI,CAAC,eAAe,CAC5B,CAD8B,YACjB,OAAO,CAAC,OAAQ,KAAK,SAAS,CAAC,CAC1C,KAAM,EAAM,IAAI,CAAC,IAAI,CACrB,YAAa,EAAM,IAAI,CAAC,WAAW,CACnC,aAAc,EAAM,IAAI,CAAC,YAAY,AACvC,IAEA,aAAa,UAAU,CAAC,OAE5B,GAEC,EAAE,EAEE,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,QAAQ,CAAA,CAAC,MAAO,WAAQ,GAClC","ignoreList":[0,1,2]}