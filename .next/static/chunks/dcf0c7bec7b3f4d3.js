(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,40500,(e,s,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"warnOnce",{enumerable:!0,get:function(){return r}});let r=e=>{}},76449,(e,s,t)=>{s.exports=e.r(8835)},38890,e=>{"use strict";let{useRegisterMutation:s,useLoginMutation:t,useRefreshTokenMutation:r,useRequestPasswordResetMutation:a,useCheckVerificationQuery:l,useSendVerificationEmailMutation:o,useVerifyEmailMutation:i}=e.i(47322).baseApi.injectEndpoints({endpoints:e=>({register:e.mutation({query:e=>({url:"/auth/register/",method:"POST",body:e}),invalidatesTags:["Auth"]}),login:e.mutation({query:e=>({url:"/auth/login/",method:"POST",body:e}),invalidatesTags:["Auth"]}),refreshToken:e.mutation({query:e=>({url:"/auth/token/refresh/",method:"POST",body:e})}),requestPasswordReset:e.mutation({query:e=>({url:"/auth/password-reset/",method:"POST",body:e})}),checkVerification:e.query({query:()=>"/auth/check-verification/",providesTags:["Auth"]}),sendVerificationEmail:e.mutation({query:()=>({url:"/auth/send-verification/",method:"POST"})}),verifyEmail:e.mutation({query:e=>({url:"/auth/verify-email/",method:"POST",body:e}),invalidatesTags:["Auth"]})})});e.s(["useLoginMutation",0,t,"useRegisterMutation",0,s,"useRequestPasswordResetMutation",0,a,"useSendVerificationEmailMutation",0,o,"useVerifyEmailMutation",0,i])},55803,e=>{"use strict";var s=e.i(81083),t=e.i(68191),r=e.i(30233),a=e.i(53087),l=e.i(76449),o=e.i(38890),i=e.i(47821),n=e.i(58221);function u(){let e=(0,l.useRouter)(),u=(0,i.useAppDispatch)(),[d,{isLoading:c,error:m}]=(0,o.useRegisterMutation)(),[h,x]=(0,t.useState)("CUSTOMER"),[p,g]=(0,t.useState)(!1),[f,b]=(0,t.useState)(!1),[y,v]=(0,t.useState)(!1),[N,j]=(0,t.useState)({fullName:"",email:"",phoneNumber:"",storeName:"",password:"",confirmPassword:"",referralCode:""}),[w,C]=(0,t.useState)(""),k=async s=>{if(s.preventDefault(),C(""),N.password!==N.confirmPassword)return void C("Passwords do not match");if(N.password.length<8)return void C("Password must be at least 8 characters long");try{let s=await d({email:N.email,password:N.password,phone_number:N.phoneNumber,full_name:N.fullName,role:h,...N.referralCode&&{referral_code:N.referralCode}}).unwrap();u((0,n.setCredentials)({user:s.data.user,accessToken:s.data.tokens.access_token,refreshToken:s.data.tokens.refresh_token})),s.data.email_verified?"VENDOR"===h?e.push("/vendor"):e.push("/"):e.push("/registration-success")}catch(e){console.error("Registration failed:",e),C(e?.data?.message||"Registration failed. Please try again.")}};return(0,s.jsx)(r.default,{showBottomNav:!1,userRole:h.toLowerCase(),children:(0,s.jsxs)("div",{className:"min-h-screen flex flex-col p-6",children:[(0,s.jsx)("button",{onClick:()=>e.back(),className:"self-start mb-6",children:(0,s.jsx)("svg",{className:"w-6 h-6 text-gray-900",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),(0,s.jsx)("h1",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Create your Dandelionz Account"}),(w||m)&&(0,s.jsx)("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:(0,s.jsx)("p",{className:"text-sm text-red-600",children:w||m?.data?.message||"An error occurred"})}),(0,s.jsxs)("form",{onSubmit:k,className:"flex flex-col gap-5",children:[(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,s.jsx)("label",{className:"text-xs text-gray-600",children:"Role"}),(0,s.jsxs)("select",{value:h,onChange:e=>x(e.target.value),className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-system-blue-light text-sm appearance-none bg-[url('data:image/svg+xml;charset=UTF-8,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 24 24%27 fill=%27none%27 stroke=%27currentColor%27 stroke-width=%272%27 stroke-linecap=%27round%27 stroke-linejoin=%27round%27%3e%3cpolyline points=%276 9 12 15 18 9%27%3e%3c/polyline%3e%3c/svg%3e')] bg-size-[1.25rem] bg-position-[right_0.5rem_center] bg-no-repeat",children:[(0,s.jsx)("option",{value:"CUSTOMER",children:"Customer"}),(0,s.jsx)("option",{value:"VENDOR",children:"Vendor"})]})]}),(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,s.jsx)("label",{htmlFor:"fullName",className:"text-xs text-gray-600",children:"Full Name"}),(0,s.jsx)("input",{id:"fullName",type:"text",value:N.fullName,onChange:e=>j({...N,fullName:e.target.value}),className:"w-full px-0 py-3 border-b border-gray-300 focus:border-system-blue-light focus:outline-none transition-colors text-sm",required:!0})]}),(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,s.jsx)("label",{htmlFor:"email",className:"text-xs text-gray-600",children:"Email Address"}),(0,s.jsx)("input",{id:"email",type:"email",value:N.email,onChange:e=>j({...N,email:e.target.value}),className:"w-full px-0 py-3 border-b border-gray-300 focus:border-system-blue-light focus:outline-none transition-colors text-sm",required:!0})]}),(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,s.jsx)("label",{htmlFor:"phone",className:"text-xs text-gray-600",children:"Phone Number"}),(0,s.jsx)("input",{id:"phone",type:"tel",value:N.phoneNumber,onChange:e=>j({...N,phoneNumber:e.target.value}),className:"w-full px-0 py-3 border-b border-gray-300 focus:border-system-blue-light focus:outline-none transition-colors text-sm",required:!0})]}),(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,s.jsx)("label",{htmlFor:"password",className:"text-xs text-gray-600",children:"Password"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("input",{id:"password",type:p?"text":"password",value:N.password,onChange:e=>j({...N,password:e.target.value}),className:"w-full px-0 py-3 border-b border-gray-300 focus:border-system-blue-light focus:outline-none transition-colors text-sm pr-10",required:!0,minLength:8}),(0,s.jsx)("button",{type:"button",onClick:()=>g(!p),className:"absolute right-0 top-1/2 -translate-y-1/2 p-2",children:(0,s.jsx)("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})})})]})]}),(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,s.jsx)("label",{htmlFor:"confirmPassword",className:"text-xs text-gray-600",children:"Confirm Password"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("input",{id:"confirmPassword",type:f?"text":"password",value:N.confirmPassword,onChange:e=>j({...N,confirmPassword:e.target.value}),className:"w-full px-0 py-3 border-b border-gray-300 focus:border-system-blue-light focus:outline-none transition-colors text-sm pr-10",required:!0}),(0,s.jsx)("button",{type:"button",onClick:()=>b(!f),className:"absolute right-0 top-1/2 -translate-y-1/2 p-2",children:(0,s.jsx)("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})})})]})]}),(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,s.jsxs)("label",{htmlFor:"referralCode",className:"text-xs text-gray-600",children:["Referral Code ",(0,s.jsx)("span",{className:"text-gray-400",children:"(Optional)"})]}),(0,s.jsx)("input",{id:"referralCode",type:"text",value:N.referralCode,onChange:e=>j({...N,referralCode:e.target.value.toUpperCase()}),className:"w-full px-0 py-3 border-b border-gray-300 focus:border-system-blue-light focus:outline-none transition-colors text-sm",placeholder:"Enter referral code if you have one"})]}),(0,s.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,s.jsx)("input",{type:"checkbox",checked:y,onChange:e=>v(e.target.checked),className:"w-4 h-4 text-system-blue-light border-gray-300 rounded focus:ring-system-blue-light"}),(0,s.jsx)("span",{className:"text-sm text-gray-700",children:"Remember my Password"})]}),(0,s.jsx)("button",{type:"submit",disabled:c,className:"w-full py-3.5 bg-system-blue-light text-white rounded-lg font-medium hover:bg-[#020360] transition-colors mt-2 disabled:opacity-50 disabled:cursor-not-allowed",children:c?"Creating Account...":"Register"}),(0,s.jsxs)("p",{className:"text-center text-sm text-gray-600 mt-2",children:["Already have an account?"," ",(0,s.jsx)(a.default,{href:"/login",className:"text-system-blue-light font-medium",children:"Sign In"})]})]})]})})}e.s(["default",()=>u])}]);