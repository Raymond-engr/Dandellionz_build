(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,40500,(e,t,i)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),Object.defineProperty(i,"warnOnce",{enumerable:!0,get:function(){return s}});let s=e=>{}},76449,(e,t,i)=>{t.exports=e.r(8835)},38890,e=>{"use strict";let{useRegisterMutation:t,useLoginMutation:i,useRefreshTokenMutation:s,useRequestPasswordResetMutation:r,useCheckVerificationQuery:n,useSendVerificationEmailMutation:a,useVerifyEmailMutation:o}=e.i(47322).baseApi.injectEndpoints({endpoints:e=>({register:e.mutation({query:e=>({url:"/auth/register/",method:"POST",body:e}),invalidatesTags:["Auth"]}),login:e.mutation({query:e=>({url:"/auth/login/",method:"POST",body:e}),invalidatesTags:["Auth"]}),refreshToken:e.mutation({query:e=>({url:"/auth/token/refresh/",method:"POST",body:e})}),requestPasswordReset:e.mutation({query:e=>({url:"/auth/password-reset/",method:"POST",body:e})}),checkVerification:e.query({query:()=>"/auth/check-verification/",providesTags:["Auth"]}),sendVerificationEmail:e.mutation({query:()=>({url:"/auth/send-verification/",method:"POST"})}),verifyEmail:e.mutation({query:e=>({url:"/auth/verify-email/",method:"POST",body:e}),invalidatesTags:["Auth"]})})});e.s(["useLoginMutation",0,i,"useRegisterMutation",0,t,"useRequestPasswordResetMutation",0,r,"useSendVerificationEmailMutation",0,a,"useVerifyEmailMutation",0,o])},38265,e=>{"use strict";var t=e.i(81083),i=e.i(68191),s=e.i(76449),r=e.i(30233),n=e.i(38890);function a(){let e=(0,s.useSearchParams)(),a=(0,s.useRouter)(),o=e.get("token"),l=e.get("uid"),[u,{isLoading:c,isSuccess:d,isError:m,error:h}]=(0,n.useVerifyEmailMutation)(),[x,f]=(0,i.useState)(5),[g,y]=(0,i.useState)(!1);return(0,i.useEffect)(()=>{o&&l&&!g&&(y(!0),u({token:o,uid:l}))},[o,l,u,g]),(0,i.useEffect)(()=>{if(d&&x>0){let e=setTimeout(()=>f(x-1),1e3);return()=>clearTimeout(e)}d&&0===x&&a.push("/login")},[d,x,a]),(0,t.jsx)(r.default,{showBottomNav:!1,children:(0,t.jsxs)("div",{className:"min-h-screen flex flex-col items-center justify-center p-6",children:[c&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"w-16 h-16 border-4 border-system-blue-light border-t-transparent rounded-full animate-spin mb-6"}),(0,t.jsx)("h1",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Verifying your email..."}),(0,t.jsx)("p",{className:"text-sm text-gray-600 text-center",children:"Please wait while we verify your email address"})]}),d&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mb-6",children:(0,t.jsx)("svg",{className:"w-10 h-10 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})}),(0,t.jsx)("h1",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Email Verified!"}),(0,t.jsx)("p",{className:"text-sm text-gray-600 text-center mb-4",children:"Your email has been successfully verified. You can now login to your account."}),(0,t.jsxs)("p",{className:"text-sm text-gray-500",children:["Redirecting to login in ",x," seconds..."]}),(0,t.jsx)("button",{onClick:()=>a.push("/login"),className:"mt-6 px-6 py-3 bg-system-blue-light text-white rounded-lg font-medium hover:bg-[#020360] transition-colors",children:"Go to Login"})]}),m&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"w-20 h-20 bg-red-100 rounded-full flex items-center justify-center mb-6",children:(0,t.jsx)("svg",{className:"w-10 h-10 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M6 18L18 6M6 6l12 12"})})}),(0,t.jsx)("h1",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Verification Failed"}),(0,t.jsx)("p",{className:"text-sm text-gray-600 text-center mb-6",children:h?.data?.message||"The verification link is invalid or has expired."}),(0,t.jsx)("div",{className:"flex gap-3",children:(0,t.jsx)("button",{onClick:()=>a.push("/verify-notice"),className:"px-6 py-3 bg-system-blue-light text-white rounded-lg font-medium hover:bg-[#020360] transition-colors",children:"Resend Verification Email"})})]}),(!o||!l)&&!c&&!d&&!m&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"w-20 h-20 bg-yellow-100 rounded-full flex items-center justify-center mb-6",children:(0,t.jsx)("svg",{className:"w-10 h-10 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),(0,t.jsx)("h1",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Invalid Verification Link"}),(0,t.jsx)("p",{className:"text-sm text-gray-600 text-center mb-6",children:"The verification link is missing required parameters. Please check the link or request a new one."}),(0,t.jsx)("button",{onClick:()=>a.push("/verify-email/resend"),className:"px-6 py-3 bg-system-blue-light text-white rounded-lg font-medium hover:bg-[#020360] transition-colors",children:"Resend Verification Email"})]})]})})}e.s(["default",()=>a])}]);